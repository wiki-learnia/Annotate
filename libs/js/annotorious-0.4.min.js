var h=void 0,k=!0,l=null,m=!1;function n(){return function(){}}function aa(a){return function(){return a}}var q,s=this;function ba(a,b){var c=a.split("."),d=s;!(c[0]in d)&&d.execScript&&d.execScript("var "+c[0]);for(var f;c.length&&(f=c.shift());)!c.length&&b!==h?d[f]=b:d=d[f]?d[f]:d[f]={}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return"array"==ca(a)}function da(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function x(a){return"function"==ca(a)}function ea(a){var b=typeof a;return"object"==b&&a!=l||"function"==b}var fa="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),ga=0;function la(a,b,c){return a.call.apply(a.bind,arguments)}
function ma(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function na(a,b,c){na=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?la:ma;return na.apply(l,arguments)}
function oa(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);b.unshift.apply(b,c);return a.apply(this,b)}}function pa(a,b){function c(){}c.prototype=b.prototype;a.Nb=b.prototype;a.prototype=new c;a.prototype.constructor=a};var qa={};function ra(a,b){this.x=a;this.y=b};function sa(a){this.Y=a}function ta(a){for(var b=0,c=a.length-1,d=0;d<a.length;d++)b+=(a[c].x+a[d].x)*(a[c].y-a[d].y),c=d;return b/2}
function ua(a,b){var c,d;d=c=0;for(var f,e=a.length-1,g=0;g<a.length;g++)f=a[g].x*a[e].y-a[e].x*a[g].y,c+=(a[g].x+a[e].x)*f,d+=(a[g].y+a[e].y)*f,e=g;f=6*ta(a);c=Math.abs(c/f);d=Math.abs(d/f);f=[];for(e=0;e<a.length;e++){var g=a[e],j=(0>ta(a)?-1:1)*b,i=g.x-c,o=g.y-d,w=0<j?1:0>j?-1:0,j=Math.sqrt(Math.pow(j,2)/(1+Math.pow(i/o,2)));f.push({x:g.x+Math.abs(i/o*j)*(0<i?1:0>i?-1:0)*w,y:g.y+Math.abs(j)*(0<o?1:0>o?-1:0)*w})}return f};function va(a,b,c,d){0<c?(this.x=a,this.width=c):(this.x=a+c,this.width=-c);0<d?(this.y=b,this.height=d):(this.y=b+d,this.height=-d)};function wa(a,b){this.type=a;this.geometry=b}function xa(a){return"rect"==a.type?a.geometry.width*a.geometry.height:"polygon"==a.type?Math.abs(ta(a.geometry.Y)):0}function ya(a){if("rect"==a.type)return a.geometry;if("polygon"==a.type){for(var a=a.geometry.Y,b=a[0].x,c=a[0].x,d=a[0].y,f=a[0].y,e=1;e<a.length;e++)a[e].x>c&&(c=a[e].x),a[e].x<b&&(b=a[e].x),a[e].y>f&&(f=a[e].y),a[e].y<d&&(d=a[e].y);return new va(b,d,c-b,f-d)}}
function za(a,b){if("rect"==a.type){var c=a.geometry,d=b({x:c.x,y:c.y}),c=b({x:c.width,y:c.height});return new wa("rect",new va(d.x,d.y,c.x,c.y))}if("polygon"==a.type){var f=[];y(a.geometry.Y,function(a){f.push(b(a))});return new wa("polygon",new sa(f))}}function Aa(a){return JSON.stringify(a.geometry)};function Ba(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function Fa(a){if(!Ga.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Ha,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Ia,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(Ja,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Ka,"&quot;"));return a}var Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/\"/g,Ga=/[&<>\"]/,La={};function Ma(a){return La[a]||(La[a]=(""+a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()}))};var z=Array.prototype,Na=z.indexOf?function(a,b,c){return z.indexOf.call(a,b,c)}:function(a,b,c){c=c==l?0:0>c?Math.max(0,a.length+c):c;if(u(a))return!u(b)||1!=b.length?-1:a.indexOf(b,c);for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},y=z.forEach?function(a,b,c){z.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=u(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Oa=z.filter?function(a,b,c){return z.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=u(a)?a.split(""):
a,j=0;j<d;j++)if(j in g){var i=g[j];b.call(c,i,j,a)&&(f[e++]=i)}return f},Pa=z.map?function(a,b,c){return z.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=u(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function A(a,b){var c;a:{c=a.length;for(var d=u(a)?a.split(""):a,f=0;f<c;f++)if(f in d&&b.call(h,d[f],f,a)){c=f;break a}c=-1}return 0>c?l:u(a)?a.charAt(c):a[c]}function B(a,b){var c=Na(a,b);0<=c&&z.splice.call(a,c,1)}
function Qa(a){return z.concat.apply(z,arguments)}function Ra(a){if(t(a))return Qa(a);for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}function Sa(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(t(d)||(f=da(d))&&d.hasOwnProperty("callee"))a.push.apply(a,d);else if(f)for(var e=a.length,g=d.length,j=0;j<g;j++)a[e+j]=d[j];else a.push(d)}}function Ta(a,b,c,d){z.splice.apply(a,Ua(arguments,1))}function Ua(a,b,c){return 2>=arguments.length?z.slice.call(a,b):z.slice.call(a,b,c)}
function Va(a,b){z.sort.call(a,b||Ya)}function Ya(a,b){return a>b?1:a<b?-1:0};var Za,$a,ab,bb,cb;function db(){return s.navigator?s.navigator.userAgent:l}function eb(){return s.navigator}bb=ab=$a=Za=m;var fb;if(fb=db()){var gb=eb();Za=0==fb.indexOf("Opera");$a=!Za&&-1!=fb.indexOf("MSIE");ab=!Za&&-1!=fb.indexOf("WebKit");bb=!Za&&!ab&&"Gecko"==gb.product}var hb=Za,F=$a,G=bb,H=ab,ib=eb();cb=-1!=(ib&&ib.platform||"").indexOf("Mac");var jb=!!eb()&&-1!=(eb().appVersion||"").indexOf("X11"),kb;
a:{var lb="",mb;if(hb&&s.opera)var nb=s.opera.version,lb="function"==typeof nb?nb():nb;else if(G?mb=/rv\:([^\);]+)(\)|;)/:F?mb=/MSIE\s+([^\);]+)(\)|;)/:H&&(mb=/WebKit\/(\S+)/),mb)var ob=mb.exec(db()),lb=ob?ob[1]:"";if(F){var pb,qb=s.document;pb=qb?qb.documentMode:h;if(pb>parseFloat(lb)){kb=""+pb;break a}}kb=lb}var rb={};
function I(a){var b;if(!(b=rb[a])){b=0;for(var c=Ba(""+kb).split("."),d=Ba(""+a).split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",j=d[e]||"",i=RegExp("(\\d*)(\\D*)","g"),o=RegExp("(\\d*)(\\D*)","g");do{var w=i.exec(g)||["","",""],p=o.exec(j)||["","",""];if(0==w[0].length&&0==p[0].length)break;b=((0==w[1].length?0:parseInt(w[1],10))<(0==p[1].length?0:parseInt(p[1],10))?-1:(0==w[1].length?0:parseInt(w[1],10))>(0==p[1].length?0:parseInt(p[1],10))?1:0)||((0==w[2].length)<(0==
p[2].length)?-1:(0==w[2].length)>(0==p[2].length)?1:0)||(w[2]<p[2]?-1:w[2]>p[2]?1:0)}while(0==b)}b=rb[a]=0<=b}return b}var sb={};function ub(a){return sb[a]||(sb[a]=F&&!!document.documentMode&&document.documentMode>=a)};var vb,wb=!F||ub(9);!G&&!F||F&&ub(9)||G&&I("1.9.1");F&&I("9");var xb=F||hb||H;function yb(a){return(a=a.className)&&"function"==typeof a.split?a.split(/\s+/):[]}function zb(a,b){var c=yb(a),d=Ua(arguments,1),d=Ab(c,d);a.className=c.join(" ");return d}function Bb(a,b){var c=yb(a),d=Ua(arguments,1);Cb(c,d);a.className=c.join(" ")}function Ab(a,b){for(var c=0,d=0;d<b.length;d++)0<=Na(a,b[d])||(a.push(b[d]),c++);return c==b.length}function Cb(a,b){for(var c=0,d=0;d<a.length;d++)0<=Na(b,a[d])&&(Ta(a,d--,1),c++)}
function Db(a,b,c){var d=yb(a);u(b)?B(d,b):t(b)&&Cb(d,b);u(c)&&!(0<=Na(d,c))?d.push(c):t(c)&&Ab(d,c);a.className=d.join(" ")};function Eb(a,b){this.x=a!==h?a:0;this.y=b!==h?b:0};function Fb(a,b){this.width=a;this.height=b}Fb.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};Fb.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function Gb(a,b){for(var c in a)b.call(h,a[c],c,a)}var Hb="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",");function Ib(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<Hb.length;e++)c=Hb[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function Jb(a){return a?new Kb(Lb(a)):vb||(vb=new Kb)}function Mb(a,b){Gb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Nb?a.setAttribute(Nb[d],b):0==d.lastIndexOf("aria-",0)?a.setAttribute(d,b):a[d]=b})}var Nb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",maxlength:"maxLength",type:"type"};
function Ob(a){var b=!H?a.documentElement:a.body,a=a.parentWindow||a.defaultView;return new Eb(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function Pb(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!wb&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',Fa(g.name),'"');if(g.type){e.push(' type="',Fa(g.type),'"');var j={};Ib(j,g);g=j;delete g.type}e.push(">");e=e.join("")}e=f.createElement(e);g&&(u(g)?e.className=g:t(g)?zb.apply(l,[e].concat(g)):Mb(e,g));2<d.length&&Qb(f,e,d,2);return e}
function Qb(a,b,c,d){function f(c){c&&b.appendChild(u(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var e=c[d];da(e)&&!(ea(e)&&0<e.nodeType)?y(Rb(e)?Ra(e):e,f):f(e)}}function Sb(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function Tb(a){if(xb)return a.parentElement;a=a.parentNode;return ea(a)&&1==a.nodeType?a:l}
function Ub(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Lb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Rb(a){if(a&&"number"==typeof a.length){if(ea(a))return"function"==typeof a.item||"string"==typeof a.item;if(x(a))return"function"==typeof a.item}return m}function Kb(a){this.wa=a||s.document||document}q=Kb.prototype;
q.createElement=function(a){return this.wa.createElement(a)};q.createTextNode=function(a){return this.wa.createTextNode(a)};q.appendChild=function(a,b){a.appendChild(b)};q.append=function(a,b){Qb(Lb(a),a,arguments,1)};q.contains=Ub;function K(a,b){var c=Jb().createElement("DIV");c.innerHTML=a(b||Vb,h,h);if(1==c.childNodes.length){var d=c.firstChild;if(1==d.nodeType)return d}return c}var Vb={};function Wb(){return k};/*
 Portions of this code are from the Dojo Toolkit, received by
 The Closure Library Authors under the BSD license. All other code is
 Copyright 2005-2009 The Closure Library Authors. All Rights Reserved.

 The "New" BSD License:

 Copyright (c) 2005-2009, The Dojo Foundation
 All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 Redistributions of source code must retain the above copyright notice, this
 list of conditions and the following disclaimer.
 Redistributions in binary form must reproduce the above copyright notice,
 this list of conditions and the following disclaimer in the documentation
 and/or other materials provided with the distribution.
 Neither the name of the Dojo Foundation nor the names of its contributors
 may be used to endorse or promote products derived from this software
 without specific prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND
 ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
 WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE
 FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
 DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
 SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
 CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/
var L=function(){function a(a,c){if(!a)return[];if(a.constructor==Array)return a;if(!u(a))return[a];if(u(c)&&(c=u(c)?document.getElementById(c):c,!c))return[];var c=c||document,e=c.ownerDocument||c.documentElement;ia=c.contentType&&"application/xml"==c.contentType||hb&&(c.doctype||"[object XMLDocument]"==e.toString())||!!e&&(F?e.xml:c.xmlVersion||e.xmlVersion);return(e=d(a)(c))&&e.Qa?e:b(e)}function b(a){if(a&&a.Qa)return a;var b=[];if(!a||!a.length)return b;a[0]&&b.push(a[0]);if(2>a.length)return b;
P++;if(F&&ia){var c=P+"";a[0].setAttribute("_zipIdx",c);for(var d=1,e;e=a[d];d++)a[d].getAttribute("_zipIdx")!=c&&b.push(e),e.setAttribute("_zipIdx",c)}else if(F&&a.Vb)try{for(d=1;e=a[d];d++)Wa(e)&&b.push(e)}catch(f){}else{a[0]&&(a[0]._zipIdx=P);for(d=1;e=a[d];d++)a[d]._zipIdx!=P&&b.push(e),e._zipIdx=P}return b}function c(a,b){if(!b)return 1;var c=sd(a);return!b[c]?b[c]=1:0}function d(a,b){if(mc){var c=nc[a];if(c&&!b)return c}if(c=oc[a])return c;var c=a.charAt(0),e=-1==a.indexOf(" ");0<=a.indexOf("#")&&
e&&(b=k);if(mc&&!b&&-1==">~+".indexOf(c)&&(!F||-1==a.indexOf(":"))&&!(pc&&0<=a.indexOf("."))&&-1==a.indexOf(":contains")&&-1==a.indexOf("|=")){var g=0<=">~+".indexOf(a.charAt(a.length-1))?a+" *":a;return nc[a]=function(b){try{if(!(9==b.nodeType||e))throw"";var c=b.querySelectorAll(g);F?c.Vb=k:c.Qa=k;return c}catch(f){return d(a,k)(b)}}}var i=a.split(/\s*,\s*/);return oc[a]=2>i.length?f(a):function(a){for(var b=0,c=[],d;d=i[b++];)c=c.concat(f(d)(a));return c}}function f(a){var b=qc(Ba(a));if(1==b.length){var c=
e(b[0]);return function(a){if(a=c(a,[]))a.Qa=k;return a}}return function(a){for(var a=Ca(a),c,d,f=b.length,g,ha,i=0;i<f;i++){ha=[];c=b[i];d=a.length-1;0<d&&(g={},ha.Qa=k);d=e(c);for(var lc=0;c=a[lc];lc++)d(c,ha,g);if(!ha.length)break;a=ha}return ha}}function e(a){var b=rc[a.ja];if(b)return b;var c=a.Db,c=c?c.Ra:"",d=o(a,{J:1}),e="*"==a.t,f=document.getElementsByClassName;if(c)f={J:1},e&&(f.t=1),d=o(a,f),"+"==c?b=i(d):"~"==c?b=j(d):">"==c&&(b=g(d));else if(a.id)d=!a.Gb&&e?Wb:o(a,{J:1,id:1}),b=function(b,
c){var e;e=Jb(b);var f=a.id;if(f=(e=u(f)?e.wa.getElementById(f):f)&&d(e))if(!(f=9==b.nodeType)){for(f=e.parentNode;f&&!(f==b);)f=f.parentNode;f=!!f}if(f)return Ca(e,c)};else if(f&&/\{\s*\[native code\]\s*\}/.test(""+f)&&a.I.length&&!pc)var d=o(a,{J:1,I:1,id:1}),p=a.I.join(" "),b=function(a,b){for(var c=Ca(0,b),e,f=0,g=a.getElementsByClassName(p);e=g[f++];)d(e,a)&&c.push(e);return c};else!e&&!a.Gb?b=function(b,c){for(var d=Ca(0,c),e,f=0,g=b.getElementsByTagName(a.jb());e=g[f++];)d.push(e);return d}:
(d=o(a,{J:1,t:1,id:1}),b=function(b,c){for(var e=Ca(0,c),f,g=0,i=b.getElementsByTagName(a.jb());f=i[g++];)d(f,b)&&e.push(f);return e});return rc[a.ja]=b}function g(a){a=a||Wb;return function(b,d,e){for(var f=0,g=b[sc];b=g[f++];)Da(b)&&(!e||c(b,e))&&a(b,f)&&d.push(b);return d}}function j(a){return function(b,d,e){for(b=b[Ea];b;){if(Da(b)){if(e&&!c(b,e))break;a(b)&&d.push(b)}b=b[Ea]}return d}}function i(a){return function(b,d,e){for(;b=b[Ea];)if(!Xa||Wa(b)){(!e||c(b,e))&&a(b)&&d.push(b);break}return d}}
function o(a,b){if(!a)return Wb;var b=b||{},c=l;b.J||(c=ja(c,Wa));b.t||"*"!=a.t&&(c=ja(c,function(b){return b&&b.tagName==a.jb()}));b.I||y(a.I,function(a,b){var d=RegExp("(?:^|\\s)"+a+"(?:\\s|$)");c=ja(c,function(a){return d.test(a.className)});c.count=b});b.Z||y(a.Z,function(a){var b=a.name;tb[b]&&(c=ja(c,tb[b](b,a.value)))});b.Fa||y(a.Fa,function(a){var b,d=a.fb;a.type&&tc[a.type]?b=tc[a.type](d,a.kb):d.length&&(b=td(d));b&&(c=ja(c,b))});b.id||a.id&&(c=ja(c,function(b){return!!b&&b.id==a.id}));
c||"default"in b||(c=Wb);return c}function w(a){return J(a)%2}function p(a){return!(J(a)%2)}function J(a){var b=a.parentNode,c=0,d=b[sc],e=a._i||-1,f=b._l||-1;if(!d)return-1;d=d.length;if(f==d&&0<=e&&0<=f)return e;b._l=d;e=-1;for(b=b.firstElementChild||b.firstChild;b;b=b[Ea])Da(b)&&(b._i=++c,a===b&&(e=c));return e}function C(a){for(;a=a[Ea];)if(Da(a))return m;return k}function uc(a){for(;a=a[ud];)if(Da(a))return m;return k}function ka(a,b){return!a?"":"class"==b?a.className||"":"for"==b?a.htmlFor||
"":"style"==b?a.style.cssText||"":(ia?a.getAttribute(b):a.getAttribute(b,2))||""}function Wa(a){return 1==a.nodeType}function ja(a,b){return!a?b:!b?a:function(){return a.apply(window,arguments)&&b.apply(window,arguments)}}function qc(a){function b(){0<=o&&(r.id=c(o,v).replace(/\\/g,""),o=-1);if(0<=p){var a=p==v?l:c(p,v);0>">~+".indexOf(a)?r.t=a:r.Ra=a;p=-1}0<=j&&(r.I.push(c(j+1,v).replace(/\\/g,"")),j=-1)}function c(b,d){return Ba(a.slice(b,d))}for(var a=0<=">~+".indexOf(a.slice(-1))?a+" * ":a+" ",
d=[],e=-1,f=-1,g=-1,i=-1,j=-1,o=-1,p=-1,w="",D="",C,v=0,J=a.length,r=l,E=l;w=D,D=a.charAt(v),v<J;v++)if("\\"!=w)if(r||(C=v,r={ja:l,Z:[],Fa:[],I:[],t:l,Ra:l,id:l,jb:function(){return ia?this.cc:this.t}},p=v),0<=e)if("]"==D){E.fb?E.kb=c(g||e+1,v):E.fb=c(e+1,v);if((e=E.kb)&&('"'==e.charAt(0)||"'"==e.charAt(0)))E.kb=e.slice(1,-1);r.Fa.push(E);E=l;e=g=-1}else"="==D&&(g=0<="|~^$*".indexOf(w)?w:"",E.type=g+D,E.fb=c(e+1,v-g.length),g=v+1);else 0<=f?")"==D&&(0<=i&&(E.value=c(f+1,v)),i=f=-1):"#"==D?(b(),o=
v+1):"."==D?(b(),j=v):":"==D?(b(),i=v):"["==D?(b(),e=v,E={}):"("==D?(0<=i&&(E={name:c(i+1,v),value:l},r.Z.push(E)),f=v):" "==D&&w!=D&&(b(),0<=i&&r.Z.push({name:c(i+1,v)}),r.Gb=r.Z.length||r.Fa.length||r.I.length,r.oc=r.ja=c(C,v),r.cc=r.t=r.Ra?l:r.t||"*",r.t&&(r.t=r.t.toUpperCase()),d.length&&d[d.length-1].Ra&&(r.Db=d.pop(),r.ja=r.Db.ja+" "+r.ja),d.push(r),r=l);return d}function Ca(a,b){var c=b||[];a&&c.push(a);return c}var pc=H&&"BackCompat"==document.compatMode,sc=document.firstChild.children?"children":
"childNodes",ia=m,tc={"*=":function(a,b){return function(c){return 0<=ka(c,a).indexOf(b)}},"^=":function(a,b){return function(c){return 0==ka(c,a).indexOf(b)}},"$=":function(a,b){return function(c){c=" "+ka(c,a);return c.lastIndexOf(b)==c.length-b.length}},"~=":function(a,b){var c=" "+b+" ";return function(b){return 0<=(" "+ka(b,a)+" ").indexOf(c)}},"|=":function(a,b){b=" "+b;return function(c){c=" "+ka(c,a);return c==b||0==c.indexOf(b+"-")}},"=":function(a,b){return function(c){return ka(c,a)==b}}},
Xa="undefined"==typeof document.firstChild.nextElementSibling,Ea=!Xa?"nextElementSibling":"nextSibling",ud=!Xa?"previousElementSibling":"previousSibling",Da=Xa?Wa:Wb,tb={checked:function(){return function(a){return a.checked||a.attributes.checked}},"first-child":function(){return uc},"last-child":function(){return C},"only-child":function(){return function(a){return!uc(a)||!C(a)?m:k}},empty:function(){return function(a){for(var b=a.childNodes,a=a.childNodes.length-1;0<=a;a--){var c=b[a].nodeType;
if(1===c||3==c)return m}return k}},contains:function(a,b){var c=b.charAt(0);if('"'==c||"'"==c)b=b.slice(1,-1);return function(a){return 0<=a.innerHTML.indexOf(b)}},not:function(a,b){var c=qc(b)[0],d={J:1};"*"!=c.t&&(d.t=1);c.I.length||(d.I=1);var e=o(c,d);return function(a){return!e(a)}},"nth-child":function(a,b){if("odd"==b)return w;if("even"==b)return p;if(-1!=b.indexOf("n")){var c=b.split("n",2),d=c[0]?"-"==c[0]?-1:parseInt(c[0],10):1,e=c[1]?parseInt(c[1],10):0,f=0,g=-1;0<d?0>e?e=e%d&&d+e%d:0<
e&&(e>=d&&(f=e-e%d),e%=d):0>d&&(d*=-1,0<e&&(g=e,e%=d));if(0<d)return function(a){a=J(a);return a>=f&&(0>g||a<=g)&&a%d==e};b=e}var i=parseInt(b,10);return function(a){return J(a)==i}}},td=F?function(a){var b=a.toLowerCase();"class"==b&&(a="className");return function(c){return ia?c.getAttribute(a):c[a]||c[b]}}:function(a){return function(b){return b&&b.getAttribute&&b.hasAttribute(a)}},rc={},oc={},nc={},mc=!!document.querySelectorAll&&(!H||I("526")),P=0,sd=F?function(a){return ia?a.getAttribute("_uid")||
a.setAttribute("_uid",++P)||P:a.uniqueID}:function(a){return a._uid||(a._uid=++P)};a.Z=tb;return a}();ba("goog.dom.query",L);ba("goog.dom.query.pseudos",L.Z);!F||ub(9);var Xb=!F||ub(9),Yb=F&&!I("8");!H||I("528");G&&I("1.9b")||F&&I("8")||hb&&I("9.5")||H&&I("528");!G||I("8");function Zb(){}Zb.prototype.Ab=m;Zb.prototype.Ga=function(){this.Ab||(this.Ab=k,this.Ha())};Zb.prototype.Ha=function(){this.Xb&&$b.apply(l,this.Xb)};function $b(a){for(var b=0,c=arguments.length;b<c;++b){var d=arguments[b];da(d)?$b.apply(l,d):d&&"function"==typeof d.Ga&&d.Ga()}};function M(a,b){this.type=a;this.currentTarget=this.target=b}pa(M,Zb);M.prototype.Ha=function(){delete this.type;delete this.target;delete this.currentTarget};M.prototype.lb=m;M.prototype.Lb=k;M.prototype.preventDefault=function(){this.Lb=m};function ac(a){ac[" "](a);return a}ac[" "]=n();function bc(a,b){a&&this.G(a,b)}pa(bc,M);q=bc.prototype;q.target=l;q.relatedTarget=l;q.offsetX=0;q.offsetY=0;q.clientX=0;q.clientY=0;q.screenX=0;q.screenY=0;q.button=0;q.keyCode=0;q.charCode=0;q.ctrlKey=m;q.altKey=m;q.shiftKey=m;q.metaKey=m;q.ga=l;
q.G=function(a,b){var c=this.type=a.type;M.call(this,c);this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(G){var f;a:{try{ac(d.nodeName);f=k;break a}catch(e){}f=m}f||(d=l)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=H||a.offsetX!==h?a.offsetX:a.layerX;this.offsetY=H||a.offsetY!==h?a.offsetY:a.layerY;this.clientX=a.clientX!==h?a.clientX:a.pageX;this.clientY=a.clientY!==h?a.clientY:a.pageY;this.screenX=a.screenX||
0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.ga=a;delete this.Lb;delete this.lb};q.preventDefault=function(){bc.Nb.preventDefault.call(this);var a=this.ga;if(a.preventDefault)a.preventDefault();else if(a.returnValue=m,Yb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};q.Zb=function(){return this.ga};
q.Ha=function(){bc.Nb.Ha.call(this);this.relatedTarget=this.currentTarget=this.target=this.ga=l};function cc(){}var dc=0;q=cc.prototype;q.key=0;q.ka=m;q.yb=m;q.G=function(a,b,c,d,f,e){if(x(a))this.Fb=k;else if(a&&a.handleEvent&&x(a.handleEvent))this.Fb=m;else throw Error("Invalid listener argument");this.La=a;this.Jb=b;this.src=c;this.type=d;this.capture=!!f;this.xa=e;this.yb=m;this.key=++dc;this.ka=m};q.handleEvent=function(a){return this.Fb?this.La.call(this.xa||this.src,a):this.La.handleEvent.call(this.La,a)};var ec={},N={},fc={},gc={};
function O(a,b,c,d,f){if(b){if(t(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return l}var d=!!d,g=N;b in g||(g[b]={r:0,$:0});g=g[b];d in g||(g[d]={r:0,$:0},g.r++);var g=g[d],j=a[fa]||(a[fa]=++ga),i;g.$++;if(g[j]){i=g[j];for(e=0;e<i.length;e++)if(g=i[e],g.La==c&&g.xa==f){if(g.ka)break;return i[e].key}}else i=g[j]=[],g.r++;e=hc();e.src=a;g=new cc;g.G(c,e,a,b,d,f);c=g.key;e.key=c;i.push(g);ec[c]=g;fc[j]||(fc[j]=[]);fc[j].push(g);a.addEventListener?(a==s||!a.Wb)&&a.addEventListener(b,e,d):a.attachEvent(b in
gc?gc[b]:gc[b]="on"+b,e);return c}throw Error("Invalid event type");}function hc(){var a=ic,b=Xb?function(c){return a.call(b.src,b.key,c)}:function(c){c=a.call(b.src,b.key,c);if(!c)return c};return b}
function Q(a){if(ec[a]){var b=ec[a];if(!b.ka){var c=b.src,d=b.type,f=b.Jb,e=b.capture;c.removeEventListener?(c==s||!c.Wb)&&c.removeEventListener(d,f,e):c.detachEvent&&c.detachEvent(d in gc?gc[d]:gc[d]="on"+d,f);c=c[fa]||(c[fa]=++ga);f=N[d][e][c];if(fc[c]){var g=fc[c];B(g,b);0==g.length&&delete fc[c]}b.ka=k;f.Ib=k;jc(d,e,c,f);delete ec[a]}}}
function jc(a,b,c,d){if(!d.Ma&&d.Ib){for(var f=0,e=0;f<d.length;f++)d[f].ka?d[f].Jb.src=l:(f!=e&&(d[e]=d[f]),e++);d.length=e;d.Ib=m;0==e&&(delete N[a][b][c],N[a][b].r--,0==N[a][b].r&&(delete N[a][b],N[a].r--),0==N[a].r&&delete N[a])}}function kc(a,b,c,d,f){var e=1,b=b[fa]||(b[fa]=++ga);if(a[b]){a.$--;a=a[b];a.Ma?a.Ma++:a.Ma=1;try{for(var g=a.length,j=0;j<g;j++){var i=a[j];i&&!i.ka&&(e&=vc(i,f)!==m)}}finally{a.Ma--,jc(c,d,b,a)}}return Boolean(e)}
function vc(a,b){var c=a.handleEvent(b);a.yb&&Q(a.key);return c}
function ic(a,b){if(!ec[a])return k;var c=ec[a],d=c.type,f=N;if(!(d in f))return k;var f=f[d],e,g;if(!Xb){var j;if(!(j=b))a:{j=["window","event"];for(var i=s;e=j.shift();)if(i[e]!=l)i=i[e];else{j=l;break a}j=i}e=j;j=k in f;i=m in f;if(j){if(0>e.keyCode||e.returnValue!=h)return k;a:{var o=m;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(w){o=k}if(o||e.returnValue==h)e.returnValue=k}}o=new bc;o.G(e,this);e=k;try{if(j){for(var p=[],J=o.currentTarget;J;J=J.parentNode)p.push(J);g=f[k];g.$=g.r;for(var C=
p.length-1;!o.lb&&0<=C&&g.$;C--)o.currentTarget=p[C],e&=kc(g,p[C],d,k,o);if(i){g=f[m];g.$=g.r;for(C=0;!o.lb&&C<p.length&&g.$;C++)o.currentTarget=p[C],e&=kc(g,p[C],d,m,o)}}else e=vc(c,o)}finally{p&&(p.length=0),o.Ga()}return e}d=new bc(b,this);try{e=vc(c,d)}finally{d.Ga()}return e};function wc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}wc.prototype.contains=function(a){return a instanceof wc?this.left<=a.left&&this.left+this.width>=a.left+a.width&&this.top<=a.top&&this.top+this.height>=a.top+a.height:a.x>=this.left&&a.x<=this.left+this.width&&a.y>=this.top&&a.y<=this.top+this.height};function R(a,b,c){u(b)?xc(a,c,b):Gb(b,oa(xc,a))}function xc(a,b,c){a.style[Ma(c)]=b}function yc(a,b){var c=Lb(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,l))?c[b]||c.getPropertyValue(b):""}function zc(a,b){return yc(a,b)||(a.currentStyle?a.currentStyle[b]:l)||a.style&&a.style[b]}function Ac(a,b,c){var d,f=G&&(cb||jb)&&I("1.9");b instanceof Eb?(d=b.x,b=b.y):(d=b,b=c);a.style.left=Bc(d,f);a.style.top=Bc(b,f)}
function Cc(a){var b=a.getBoundingClientRect();F&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function Dc(a){if(F&&!ub(8))return a.offsetParent;for(var b=Lb(a),c=zc(a,"position"),d="fixed"==c||"absolute"==c,a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=zc(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return l}
function Ec(a){var b,c=Lb(a),d=zc(a,"position"),f=G&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),e=new Eb(0,0),g;b=c?9==c.nodeType?c:Lb(c):document;if(g=F)if(g=!ub(9))Jb(b),g=m;g=g?b.body:b.documentElement;if(a==g)return e;if(a.getBoundingClientRect)b=Cc(a),a=Jb(c),a=Ob(a.wa),e.x=b.left+a.x,e.y=b.top+a.y;else if(c.getBoxObjectFor&&!f)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(g),e.x=b.screenX-a.screenX,e.y=b.screenY-a.screenY;else{b=
a;do{e.x+=b.offsetLeft;e.y+=b.offsetTop;b!=a&&(e.x+=b.clientLeft||0,e.y+=b.clientTop||0);if(H&&"fixed"==zc(b,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}b=b.offsetParent}while(b&&b!=a);if(hb||H&&"absolute"==d)e.y-=c.body.offsetTop;for(b=a;(b=Dc(b))&&b!=c.body&&b!=g;)if(e.x-=b.scrollLeft,!hb||"TR"!=b.tagName)e.y-=b.scrollTop}return e}function Fc(a,b){var c=Gc(a),d=Gc(b);return new Eb(c.x-d.x,c.y-d.y)}
function Gc(a){var b=new Eb;if(1==a.nodeType)if(a.getBoundingClientRect)a=Cc(a),b.x=a.left,b.y=a.top;else{var c;c=Jb(a);c=Ob(c.wa);a=Ec(a);b.x=a.x-c.x;b.y=a.y-c.y}else{c=x(a.Zb);var d=a;a.targetTouches?d=a.targetTouches[0]:c&&a.ga.targetTouches&&(d=a.ga.targetTouches[0]);b.x=d.clientX;b.y=d.clientY}return b}function Hc(a,b,c){if(b instanceof Fb)c=b.height,b=b.width;else if(c==h)throw Error("missing height argument");a.style.width=Bc(b,k);a.style.height=Bc(c,k)}
function Bc(a,b){"number"==typeof a&&(a=(b?Math.round(a):a)+"px");return a}function Ic(a){if("none"!=zc(a,"display"))return Jc(a);var b=a.style,c=b.display,d=b.visibility,f=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";a=Jc(a);b.display=c;b.position=f;b.visibility=d;return a}function Jc(a){var b=a.offsetWidth,c=a.offsetHeight,d=H&&!b&&!c;return(b===h||d)&&a.getBoundingClientRect?(a=Cc(a),new Fb(a.right-a.left,a.bottom-a.top)):new Fb(b,c)}
function Kc(a){var b=Ec(a),a=Ic(a);return new wc(b.x,b.y,a.width,a.height)}function S(a,b){var c=a.style;"opacity"in c?c.opacity=b:"MozOpacity"in c?c.MozOpacity=b:"filter"in c&&(c.filter=""===b?"":"alpha(opacity="+100*b+")")}function T(a,b){a.style.display=b?"":"none"};function Lc(a){var b,c;this.S=a;this.n=new Mc;this.ua=[];this.xb=k;var d=Kc(a);b=Pb("div","annotorious-annotationlayer");R(b,"position","relative");R(b,"display","inline-block");Hc(b,d.width,d.height);Sb(b,a);b.appendChild(a);c=K(Nc,{width:d.width,height:d.height});zb(c,"annotorious-item-unfocus");b.appendChild(c);this.k=K(Nc,{width:d.width,height:d.height});T(this.k,m);b.appendChild(this.k);this.popup=new U(b,this);a=new Oc;a.G(this.k,this);this.ua.push(a);this.oa=a;a=new Pc;a.G(this.k,this);this.ua.push(a);
this.D=new Qc(c,this.popup,this);this.editor=new V(this,b);this.rb=new Rc(this,b);var f=this;O(b,"mouseover",function(a){a=a.relatedTarget;if(!a||!Ub(b,a))f.n.fireEvent(Sc),Db(c,"annotorious-item-unfocus","annotorious-item-focus")});O(b,"mouseout",function(a){a=a.relatedTarget;if(!a||!Ub(b,a))f.n.fireEvent(Tc),Db(c,"annotorious-item-focus","annotorious-item-unfocus")});O(c,"mousedown",function(a){f.xb&&(T(f.k,k),f.D.A(h),f.oa.mb(a.offsetX,a.offsetY))});this.n.g(Uc,function(a){a=a.ob;f.editor.la({x:a.left+
f.S.offsetLeft,y:a.bottom+4+f.S.offsetTop});f.editor.open()});this.n.g(Vc,function(){T(f.k,m);f.oa.K()})}function Wc(a,b){a.D.m(b);var c=A(a.ua,function(a){return a.ib()==b.shapes[0].type});if(c){T(a.k,k);a.D.A(h);var d=a.k.getContext("2d"),f=b.shapes[0],f="pixel"==f.units?f:za(f,function(b){return a.Ia(b)});c.hb(d,f)}c=ya(b.shapes[0]);c="pixel"==b.shapes[0].units?{x:c.x,y:c.y+c.height}:a.Ia({x:c.x,y:c.y+c.height});a.editor.la({x:c.x+a.S.offsetLeft,y:c.y+4+a.S.offsetTop});a.editor.open(b)}q=Lc.prototype;
q.o=function(a,b){this.D.o(a,b)};q.g=function(a,b){this.n.g(a,b)};q.fireEvent=function(a,b){this.n.fireEvent(a,b)};q.Ia=function(a){var b=Ic(this.S);return{x:a.x*b.width,y:a.y*b.height}};q.ha=function(){return this.oa};q.F=function(){return this.D.F()};q.ia=function(){return this.ua};q.getItem=function(){return{src:Xc(this.S)}};q.A=function(a){this.D.A(a)};q.m=function(a){this.D.m(a)};q.Sa=function(a,b){this.n.Sa(a,b)};q.za=function(a){this.oa=A(this.ua,function(b){return b.getName()==a})};
q.aa=function(a){this.xb=a;a||(a=this.rb,a.pa(),delete a.wb,delete a.vb,delete a.bb,delete a.ab,(a=a.element)&&a.parentNode&&a.parentNode.removeChild(a),delete this.rb)};q.K=function(a){T(this.k,m);this.oa.K();a&&this.D.o(a)};q.Aa=function(a){var b=Ic(this.S);return{x:a.x/b.width,y:a.y/b.height}};function W(a,b){this.P={};this.l=[];var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var f;if(a instanceof W)Yc(a),f=a.l.concat(),d=Zc(a);else{var c=[],e=0;for(f in a)c[e++]=f;f=c;c=[];e=0;for(d in a)c[e++]=a[d];d=c}for(c=0;c<f.length;c++)this.set(f[c],d[c])}}W.prototype.r=0;function Zc(a){Yc(a);for(var b=[],c=0;c<a.l.length;c++)b.push(a.P[a.l[c]]);return b}
W.prototype.clear=function(){this.P={};this.r=this.l.length=0};function Yc(a){if(a.r!=a.l.length){for(var b=0,c=0;b<a.l.length;){var d=a.l[b];Object.prototype.hasOwnProperty.call(a.P,d)&&(a.l[c++]=d);b++}a.l.length=c}if(a.r!=a.l.length){for(var f={},c=b=0;b<a.l.length;)d=a.l[b],Object.prototype.hasOwnProperty.call(f,d)||(a.l[c++]=d,f[d]=1),b++;a.l.length=c}}W.prototype.get=function(a,b){return Object.prototype.hasOwnProperty.call(this.P,a)?this.P[a]:b};
W.prototype.set=function(a,b){Object.prototype.hasOwnProperty.call(this.P,a)||(this.r++,this.l.push(a));this.P[a]=b};function $c(){this.j=new W;this.Ba=[];this.U=[];this.pb=[];this.ra=[];this.ca=[];this.Ua=[];this.tb=k}q=$c.prototype;q.G=function(){var a=L("img.annotatable",document);Sa(this.pb,a);Sa(this.ra,a);ad(this);var b=this,c=O(window,"scroll",function(){0<b.ra.length?ad(b):Q(c)})};
function ad(a){y(a.ra,function(b){for(var c=b,d=c.offsetTop,f=c.offsetLeft,e=c.offsetWidth,g=c.offsetHeight;c.offsetParent;)c=c.offsetParent,d+=c.offsetTop,f+=c.offsetLeft;d<window.pageYOffset+window.innerHeight&&f<window.pageXOffset+window.innerWidth&&d+g>window.pageYOffset&&f+e>window.pageXOffset&&bd(a,b)})}
function bd(a,b){var c=[],d=[],f=new Lc(b);a.tb||f.aa(m);var e=Xc(b);y(a.Ba,function(a){f.g(a.type,a.xa)});y(a.U,function(a){if(a.onInitAnnotator)a.onInitAnnotator(f)});y(a.ca,function(a){a.src==e&&(f.o(a),c.push(a))});y(a.Ua,function(a){a.src==e&&(f.m(a),d.push(a))});y(c,function(b){B(a.ca,b)});y(d,function(b){B(a.Ua,b)});a.j.set(e,f);B(a.ra,b)}function Xc(a){var b=a.getAttribute("data-original");return b?b:a.src}
q.o=function(a,b){if(this.N(a.src)){var c=this.j.get(a.src);c?c.o(a,b):(this.ca.push(a),b&&B(this.ca,b))}};q.g=function(a,b){y(Zc(this.j),function(c){c.g(a,b)});this.Ba.push({type:a,xa:b})};q.Ea=function(a){this.U.push(a);y(Zc(this.j),function(b){if(a.onInitAnnotator)a.onInitAnnotator(b)})};q.N=function(a){return Object.prototype.hasOwnProperty.call(this.j.P,a)?k:A(this.ra,function(b){return Xc(b)==a})!=l};q.ha=function(a){if(this.N(a)&&(a=this.j.get(a)))return a.ha().getName()};
q.F=function(a){if(a){var b=this.j.get(a);return b?b.F():Oa(this.ca,function(b){return b.src==a})}var c=[];y(Zc(this.j),function(a){Sa(c,a.F())});Sa(c,this.ca);return c};q.ia=function(a){if(this.N(a)&&(a=this.j.get(a)))return Pa(a.ia(),function(a){return a.getName()})};q.A=function(a){if(a){if(this.N(a.src)){var b=this.j.get(a.src);b&&b.A(a)}}else y(Zc(this.j),function(a){a.A()})};q.Na=function(a){this.nb(a)&&(this.pb.push(a),bd(this,a))};
q.m=function(a){if(this.N(a.src)){var b=this.j.get(a.src);b?b.m(a):this.Ua.push(a)}};q.za=function(a,b){if(this.N(a)){var c=this.j.get(a);c&&c.za(b)}};q.aa=function(a){this.tb=a;y(Zc(this.j),function(b){b.aa(a)})};q.nb=function(a){return ea(a)&&1==a.nodeType?"IMG"==a.tagName:m};function Qc(a,b,c){this.h=a;this.v=b;this.e=c;this.ba=[];this.W=[];this.c=this.h.getContext("2d");this.ea=k;this.Za=m;var d=this;O(this.h,"mousemove",function(a){if(d.ea){var b=cd(d,a.offsetX,a.offsetY);b?(d.Za=m,d.f?d.f!=b&&(d.ea=m,dd(d.v)):(d.f=b,ed(d),d.e.fireEvent(fd,{X:d.f,Oa:a}))):!d.Za&&d.f&&(d.ea=m,dd(d.v))}else d.na=a});c.g(Tc,function(){delete d.f;d.ea=k});c.g(gd,function(){if(!d.ea&&d.na){var a=d.f;d.f=cd(d,d.na.offsetX,d.na.offsetY);d.ea=k;a!=d.f?(ed(d),d.e.fireEvent(hd,{X:a,Oa:d.na}),
d.e.fireEvent(fd,{X:d.f,Oa:d.na})):d.f&&id(d.v)}else ed(d)})}Qc.prototype.o=function(a,b){b&&(b==this.f&&delete this.f,B(this.ba,b),delete this.W[Aa(b.shapes[0])]);this.ba.push(a);var c=a.shapes[0];if("pixel"!=c.units)var d=this,c=za(c,function(a){return d.e.Ia(a)});this.W[Aa(a.shapes[0])]=c;ed(this)};Qc.prototype.m=function(a){a==this.f&&delete this.f;B(this.ba,a);delete this.W[Aa(a.shapes[0])];ed(this)};Qc.prototype.F=function(){return Ra(this.ba)};
Qc.prototype.A=function(a){(this.f=a)?this.Za=k:dd(this.v);ed(this)};function cd(a,b,c){a=jd(a,b,c);if(0<a.length)return a[0]}
function jd(a,b,c){var d=[];y(a.ba,function(f){var e;e=a.W[Aa(f.shapes[0])];if("rect"==e.type)e=b<e.geometry.x||c<e.geometry.y||b>e.geometry.x+e.geometry.width||c>e.geometry.y+e.geometry.height?m:k;else if("polygon"==e.type){e=e.geometry.Y;for(var g=m,j=e.length-1,i=0;i<e.length;i++)e[i].y>c!=e[j].y>c&&b<(e[j].x-e[i].x)*(c-e[i].y)/(e[j].y-e[i].y)+e[i].x&&(g=!g),j=i;e=g}else e=m;e&&d.push(f)});Va(d,function(a,b){return xa(a.shapes[0])>xa(b.shapes[0])});return d}
function kd(a,b,c){var d=A(a.e.ia(),function(a){return a.ib()==b.type});d?d.hb(a.c,b,c):console.log("WARNING unsupported shape type: "+b.type)}function ed(a){a.c.clearRect(0,0,a.h.width,a.h.height);y(a.ba,function(b){kd(a,a.W[Aa(b.shapes[0])])});if(a.f){var b=a.W[Aa(a.f.shapes[0])];kd(a,b,k);b=ya(b);a.v.show(a.f,{x:b.x,y:b.y+b.height+5})}};var ld={};
function md(a){this.M=a;this.Q=a.div;var b=parseInt(yc(this.Q,"width")),c=parseInt(yc(this.Q,"height"));this.n=new Mc;var d=Pb("div","annotorious-annotationlayer");R(d,"position","relative");Hc(d,b,c);Sb(d,this.Q);d.appendChild(this.Q);var f=K(nd,{Hb:"Press and Hold CTRL to Annotate"});R(f,"z-index",9998);S(f,0);d.appendChild(f);var e=K(od,{Hb:"Click and Drag"});R(e,"z-index",9998);S(e,0);d.appendChild(e);this.v=new U(d,this);this.D=new pd(a,this.v,this);this.k=K(Nc,{width:b,height:c});T(this.k,m);
R(this.k,"z-index",9999);d.appendChild(this.k);this.cb=new Oc;this.Xa=new V(this.cb,this);R(this.Xa.element,"z-index",1E4);var g=this;O(d,"mouseover",function(a){a=a.relatedTarget;if(!a||!Ub(d,a))g.n.fireEvent(Sc),S(f,0.8)});O(d,"mouseout",function(a){a=a.relatedTarget;if(!a||!Ub(d,a))g.n.fireEvent(Tc),S(f,0)});var j=m;O(document,"keydown",function(a){17==a.keyCode&&(j=k,S(f,0),S(e,0.8),window.setTimeout(function(){S(e,0)},2E3))});O(document,"keyup",function(){j=m});O(this.Q,"mousedown",function(a){j&&
(T(g.k,k),g.cb.mb(a.clientX,a.clientY))});this.n.g(Uc,function(a){a=a.ob;g.Xa.la(a.left+g.Q.offsetLeft,a.bottom+4+g.Q.offsetTop);g.Xa.open()});this.n.g(Vc,function(){g.K()})}q=md.prototype;q.K=function(){T(this.k,m);this.cb.K()};q.g=function(a,b){this.n.g(a,b)};q.fireEvent=function(a,b){this.n.fireEvent(a,b)};q.Aa=function(a){a=this.M.getLonLatFromPixel(new OpenLayers.Pixel(a.x,a.y));return{x:a.lon,y:a.lat}};
q.Ia=function(a){a=this.M.getViewPortPxFromLonLat(new OpenLayers.LonLat(a.x,a.y));return{x:a.x,y:a.y}};q.o=function(a){this.D.o(a)};q.m=function(a){this.D.m(a)};function qd(){this.j=new W;this.Ba=[];this.U=[];this.Sb=[]}q=qd.prototype;q.G=n();q.o=n();q.g=n();q.Ea=n();q.N=n();q.F=n();q.Na=function(a){var b=new md(a);y(this.Ba,function(a){b.g(a.type,a.xa)});y(this.U,function(a){a.bc&&a.bc(b.kc());a.ac&&a.ac(b.jc())});this.j.set(map.id,b);this.Sb.push(map)};q.m=n();q.A=n();q.aa=n();q.nb=function(a){return a instanceof OpenLayers.Map};function pd(a,b,c){this.M=a;this.v=b;R(this.v.element,"z-index",99E3);this.Da=[];this.Ta=new OpenLayers.Layer.Boxes("Annotorious");this.M.addLayer(this.Ta);var d=this;this.M.events.register("move",this.M,function(){if(d.da){var a=d.da.ya.div,b=Fc(a,d.M.div),a=parseInt(a.style[Ma("height")]||"",10);d.v.la(b.x,b.y+a+5)}});c.g(gd,function(){d.$a==d.da?id(d.v):rd(d,d.$a,d.da)})}
function rd(a,b,c){if(b){var d=Fc(b.ya.div,a.M.div),f=parseInt(b.ya.div.style[Ma("height")]||"",10);R(b.Eb,"border-color","#fff000");a.v.show(b.X,d.x,d.y+f+5);a.da=b}else delete a.da;c&&R(c.Eb,"border-color","#fff")}
pd.prototype.o=function(a){var b=a.shapes[0].geometry,b=new OpenLayers.Marker.Box(new OpenLayers.Bounds(b.x,b.y,b.x+b.width,b.y+b.height));zb(b.div,"annotorious-ol-boxmarker-outer");R(b.div,"border",l);var c=Pb("div","annotorious-ol-boxmarker-inner");Hc(c,"100%","100%");b.div.appendChild(c);var d={X:a,ya:b,Eb:c},f=this;O(c,"mouseover",function(){f.da||rd(f,d);f.$a=d});O(c,"mouseout",function(){delete f.$a;dd(f.v)});this.Da.push(d);Va(this.Da,function(a,b){var c=a.X.shapes[0].geometry;return qa.Yb.size(b.X.shapes[0].geometry)-
qa.Yb.size(c)});var e=1E4;y(this.Da,function(a){R(a.ya.div,"z-index",e);e++});this.Ta.addMarker(b)};pd.prototype.m=function(a){var b=A(this.Da,function(b){return b.X==a});b&&this.Ta.removeMarker(b.ya)};window.annotorious||(window.annotorious={});window.annotorious.plugin||(window.annotorious.plugin={});function Pc(){}q=Pc.prototype;q.G=function(a,b){this.h=a;this.e=b;this.c=a.getContext("2d");this.V=[];this.R=m};
q.ma=function(){function a(a,b){return 1<c.V.length&&5>Math.abs(a-c.d.x)&&5>Math.abs(b-c.d.y)}function b(a,b){c.c.clearRect(0,0,c.h.width,c.h.height);c.c.lineWidth=2.5;c.c.strokeStyle="#000000";c.c.beginPath();c.c.moveTo(c.d.x,c.d.y);y(c.V,function(a){c.c.lineTo(a.x,a.y)});c.c.lineTo(a.x,a.y);c.c.stroke();c.c.lineWidth=1.4;c.c.strokeStyle="#ffffff";c.c.beginPath();c.c.moveTo(c.d.x,c.d.y);y(c.V,function(a){c.c.lineTo(a.x,a.y)});c.c.lineTo(a.x,a.y);c.c.stroke();b&&(c.c.lineWidth=1,c.c.fillStyle="#ffffff",
c.c.strokeStyle="#000000",c.c.beginPath(),c.c.arc(a.x,a.y,3.5,0,2*Math.PI,m),c.c.fill(),c.c.stroke())}var c=this;this.T=O(this.h,"mousemove",function(d){c.R&&(c.Tb={x:d.offsetX,y:d.offsetY},b(c.Tb,a(d.offsetX,d.offsetY)))});this.fa=O(this.h,"mouseup",function(d){a(d.offsetX,d.offsetY)?(c.R=m,b(c.d),c.e.fireEvent(Uc,{Oa:d,shape:c.Ja(),ob:c.Ka()})):c.V.push({x:d.offsetX,y:d.offsetY})})};q.pa=function(){this.T&&(Q(this.T),delete this.T);this.fa&&(Q(this.fa),delete this.fa)};q.getName=aa("polygon");
q.ib=aa("polygon");q.mb=function(a,b){this.R=k;this.ma();this.d=new ra(a,b);this.e.fireEvent(vd,{offsetX:a,offsetY:b});R(document.body,"-webkit-user-select","none")};q.K=function(){this.pa();this.c.clearRect(0,0,this.h.width,this.h.height);R(document.body,"-webkit-user-select","auto");this.V=[]};q.Ja=function(){var a=[];a.push(this.e.Aa(this.d));var b=this;y(this.V,function(c){a.push(b.e.Aa(c))});return new wa("polygon",new sa(a))};
q.Ka=function(){var a=this.d.x,b=this.d.x,c=this.d.y,d=this.d.y;y(this.V,function(f){f.x>a&&(a=f.x);f.x<b&&(b=f.x);f.y>d&&(d=f.y);f.y<c&&(c=f.y)});return{top:c,right:a,bottom:d,left:b}};
q.hb=function(a,b,c){c=c?"#fff000":"#ffffff";a.lineWidth=1.3;a.strokeStyle="#000000";var d;d=b.geometry.Y;var f=0>ta(d)?-1:1;if(4>d.length)d=ua(d,1.2*f);else{for(var e=d.length-1,g=1,j=[],i=0;i<d.length;i++)e=ua([d[e],d[i],d[g]],1.2*f),j.push(e[1]),e=i,g++,g>d.length-1&&(g=0);d=j}f=(new wa("polygon",new sa(d))).geometry.Y;a.beginPath();a.moveTo(f[0].x,f[0].y);for(d=1;d<f.length;d++)a.lineTo(f[d].x,f[d].y);a.lineTo(f[0].x,f[0].y);a.stroke();a.lineWidth=1.2;a.strokeStyle=c;b=b.geometry.Y;a.beginPath();
a.moveTo(b[0].x,b[0].y);for(d=1;d<b.length;d++)a.lineTo(b[d].x,b[d].y);a.lineTo(b[0].x,b[0].y);a.stroke()};function Oc(){}q=Oc.prototype;q.G=function(a,b){this.h=a;this.e=b;this.c=a.getContext("2d");this.c.lineWidth=1;this.R=m};
q.ma=function(){var a=this;this.T=O(this.h,"mousemove",function(b){if(a.R){a.w={x:b.offsetX,y:b.offsetY};a.c.clearRect(0,0,a.h.width,a.h.height);var b=a.w.x-a.d.x,c=a.w.y-a.d.y;a.c.strokeStyle="#000000";a.c.strokeRect(a.d.x+0.5,a.d.y+0.5,b,c);a.c.strokeStyle="#ffffff";0<b&&0<c?a.c.strokeRect(a.d.x+1.5,a.d.y+1.5,b-2,c-2):0<b&&0>c?a.c.strokeRect(a.d.x+1.5,a.d.y-0.5,b-2,c+2):0>b&&0>c?a.c.strokeRect(a.d.x-0.5,a.d.y-0.5,b+2,c+2):a.c.strokeRect(a.d.x-0.5,a.d.y+1.5,b+2,c-2)}});this.fa=O(this.h,"mouseup",
function(b){a.R=m;var c=a.Ja();c?a.e.fireEvent(Uc,{Oa:b,shape:c,ob:a.Ka()}):a.e.fireEvent(Vc)})};q.pa=function(){this.T&&(Q(this.T),delete this.T);this.fa&&(Q(this.fa),delete this.fc)};q.getName=aa("rect_drag");q.ib=aa("rect");q.mb=function(a,b){this.R=k;this.ma();this.d=new ra(a,b);this.e.fireEvent(vd,{offsetX:a,offsetY:b});R(document.body,"-webkit-user-select","none")};q.K=function(){this.pa();this.c.clearRect(0,0,this.h.width,this.h.height);R(document.body,"-webkit-user-select","auto");delete this.w};
q.Ja=function(){if(this.w&&3<Math.abs(this.w.x-this.d.x)&&3<Math.abs(this.w.y-this.d.y)){var a=this.Ka(),b=this.e.Aa({x:a.left,y:a.top}),a=this.e.Aa({x:a.right-1,y:a.bottom-1});return new wa("rect",new va(b.x,b.y,a.x-b.x,a.y-b.y))}};q.Ka=function(){var a,b;this.w.x>this.d.x?(a=this.w.x,b=this.d.x):(a=this.d.x,b=this.w.x);var c,d;this.w.y>this.d.y?(c=this.d.y,d=this.w.y):(c=this.w.y,d=this.d.y);return{top:c,right:a,bottom:d,left:b}};
q.hb=function(a,b,c){if("rect"==b.type){var d;c?(c="#fff000",d=1.2):(c="#ffffff",d=1);b=b.geometry;a.strokeStyle="#000000";a.lineWidth=d;a.strokeRect(b.x+0.5,b.y+0.5,b.width+1,b.height+1);a.strokeStyle=c;a.strokeRect(b.x+1.5,b.y+1.5,b.width-1,b.height-1)}};function wd(a,b,c){this.src=a;this.text=b;this.shapes=[c];this.context=document.URL};function xd(a){window.addEventListener?window.addEventListener("load",a):window.attachEvent&&window.attachEvent("onload",a)};function X(){this.H=[new $c];ld&&this.H.push(new qd);this.U=[];var a=this;xd(function(){y(a.H,function(a){a.G()});y(a.U,function(b){b.initPlugin&&b.initPlugin(a);y(a.H,function(a){a.Ea(b)})})})}function Y(a,b){return A(a.H,function(a){return a.N(b)})}q=X.prototype;q.o=function(a,b){var c=Y(this,a.src);c&&c.o(a,b)};q.g=function(a,b){y(this.H,function(c){c.g(a,b)})};q.Ea=function(a,b){try{this.U.push(new window.annotorious.plugin[a](b))}catch(c){console.log("Could not load plugin: "+a)}};
q.ha=function(a){var b=Y(this,a);if(b)return b.ha(a)};q.F=function(a){if(a){var b=Y(this,a);return b?b.F(a):[]}var c=[];y(this.H,function(a){Sa(c,a.F())});return c};q.ia=function(a){var b=Y(this,a);if(b)return b.ia(a)};q.A=function(a){if(a){var b=Y(this,a.src);b&&b.A(a)}else y(this.H,function(a){a.A()})};q.Na=function(a){var b=A(this.H,function(b){return b.nb(a)});if(b)b.Na(a);else throw"Error: Annotorious does not support this media type in the current version or build configuration.";};
q.dc=function(a){var b=this;y(this.F(a),function(a){b.m(a)})};q.m=function(a){var b=Y(this,a.src);b&&b.m(a)};q.za=function(a,b){var c=Y(this,a);c&&c.za(a,b)};q.aa=function(a){y(this.H,function(b){b.aa(a)})};window.anno=new X;X.prototype.addAnnotation=X.prototype.o;X.prototype.addHandler=X.prototype.g;X.prototype.addPlugin=X.prototype.Ea;X.prototype.getActiveSelector=X.prototype.ha;X.prototype.getAnnotations=X.prototype.F;X.prototype.getAvailableSelectors=X.prototype.ia;
X.prototype.highlightAnnotation=X.prototype.A;X.prototype.makeAnnotatable=X.prototype.Na;X.prototype.removeAll=X.prototype.dc;X.prototype.removeAnnotation=X.prototype.m;X.prototype.setActiveSelector=X.prototype.za;X.prototype.setSelectionEnabled=X.prototype.aa;var yd;(yd="ScriptEngine"in s&&"JScript"==s.ScriptEngine())&&(s.ScriptEngineMajorVersion(),s.ScriptEngineMinorVersion(),s.ScriptEngineBuildVersion());function Z(a,b){this.z=yd?[]:"";a!=l&&this.append.apply(this,arguments)}Z.prototype.set=function(a){this.clear();this.append(a)};yd?(Z.prototype.gb=0,Z.prototype.append=function(a,b,c){b==l?this.z[this.gb++]=a:(this.z.push.apply(this.z,arguments),this.gb=this.z.length);return this}):Z.prototype.append=function(a,b,c){this.z+=a;if(b!=l)for(var d=1;d<arguments.length;d++)this.z+=arguments[d];return this};Z.prototype.clear=function(){yd?this.gb=this.z.length=0:this.z=""};
Z.prototype.toString=function(){if(yd){var a=this.z.join("");this.clear();a&&this.append(a);return a}return this.z};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

 // Copyright (C) 2006 Google Inc.
 //
 // Licensed under the Apache License, Version 2.0 (the "License");
 // you may not use this file except in compliance with the License.
 // You may obtain a copy of the License at
 //
 //      http://www.apache.org/licenses/LICENSE-2.0
 //
 // Unless required by applicable law or agreed to in writing, software
 // distributed under the License is distributed on an "AS IS" BASIS,
 // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 // See the License for the specific language governing permissions and
 // limitations under the License.

*/
function zd(){}
var Ad={mc:"<",lc:">",gc:"&",nc:"\u00a0",pc:'"',hc:"'"},$={a:0,abbr:0,acronym:0,address:0,applet:16,area:2,b:0,base:18,basefont:18,bdo:0,big:0,blockquote:0,body:49,br:2,button:0,caption:0,center:0,cite:0,code:0,col:2,colgroup:1,dd:1,del:0,dfn:0,dir:0,div:0,dl:0,dt:1,em:0,fieldset:0,font:0,form:0,frame:18,frameset:16,h1:0,h2:0,h3:0,h4:0,h5:0,h6:0,head:49,hr:2,html:49,i:0,iframe:20,img:2,input:2,ins:0,isindex:18,kbd:0,label:0,legend:0,li:1,link:18,map:0,menu:0,meta:18,noframes:20,noscript:20,object:16,
ol:0,optgroup:0,option:1,p:1,param:18,pre:0,q:0,s:0,samp:0,script:20,select:0,small:0,span:0,strike:0,strong:0,style:20,sub:0,sup:0,table:0,tbody:1,td:1,textarea:8,tfoot:1,th:1,thead:1,title:24,tr:1,tt:0,u:0,ul:0,"var":0},Bd=/&/g,Cd=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,Dd=/</g,Ed=/>/g,Fd=/\"/g,Gd=/=/g,Hd=/\0/g,Id=/&(#\d+|#x[0-9A-Fa-f]+|\w+);/g,Jd=/^#(\d+)$/,Kd=/^#x([0-9A-Fa-f]+)$/,Ld=RegExp("^\\s*(?:(?:([a-z][a-z-]*)(\\s*=\\s*(\"[^\"]*\"|'[^']*'|(?=[a-z][a-z-]*\\s*=)|[^>\"'\\s]*))?)|(/?>)|[^a-z\\s>]+)",
"i"),Md=RegExp("^(?:&(\\#[0-9]+|\\#[x][0-9a-f]+|\\w+);|<[!]--[\\s\\S]*?--\>|<!\\w[^>]*>|<\\?[^>*]*>|<(/)?([a-z][a-z0-9]*)|([^<&>]+)|([<&>]))","i");
zd.prototype.parse=function(a,b){var c=l,d=m,f=[],e,g,j;a.B=[];for(a.O=m;b;){var i=b.match(d?Ld:Md),b=b.substring(i[0].length);if(d)if(i[1]){var o=i[1].toLowerCase();if(i[2]){i=i[3];switch(i.charCodeAt(0)){case 34:case 39:i=i.substring(1,i.length-1)}i=i.replace(Hd,"").replace(Id,na(this.$b,this))}else i=o;f.push(o,i)}else i[4]&&(g!==h&&(j?a.Mb&&a.Mb(e,f):a.Bb&&a.Bb(e)),j&&g&12&&(c=c===l?b.toLowerCase():c.substring(c.length-b.length),d=c.indexOf("</"+e),0>d&&(d=b.length),g&4?a.zb&&a.zb(b.substring(0,
d)):a.Kb&&a.Kb(b.substring(0,d).replace(Cd,"&amp;$1").replace(Dd,"&lt;").replace(Ed,"&gt;")),b=b.substring(d)),e=g=j=h,f.length=0,d=m);else if(i[1])Nd(a,i[0]);else if(i[3])j=!i[2],d=k,e=i[3].toLowerCase(),g=$.hasOwnProperty(e)?$[e]:h;else if(i[4])Nd(a,i[4]);else if(i[5])switch(i[5]){case "<":Nd(a,"&lt;");break;case ">":Nd(a,"&gt;");break;default:Nd(a,"&amp;")}}for(c=a.B.length;0<=--c;)a.L.append("</",a.B[c],">");a.B.length=0};
zd.prototype.$b=function(a){a=a.toLowerCase();if(Ad.hasOwnProperty(a))return Ad[a];var b=a.match(Jd);return b?String.fromCharCode(parseInt(b[1],10)):(b=a.match(Kd))?String.fromCharCode(parseInt(b[1],16)):""};function Od(){};/*
 Portions of this code are from the google-caja project, received by
 Google under the Apache license (http://code.google.com/p/google-caja/).
 All other code is Copyright 2009 Google, Inc. All Rights Reserved.

 // Copyright (C) 2006 Google Inc.
 //
 // Licensed under the Apache License, Version 2.0 (the "License");
 // you may not use this file except in compliance with the License.
 // You may obtain a copy of the License at
 //
 //      http://www.apache.org/licenses/LICENSE-2.0
 //
 // Unless required by applicable law or agreed to in writing, software
 // distributed under the License is distributed on an "AS IS" BASIS,
 // WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 // See the License for the specific language governing permissions and
 // limitations under the License.

*/
function Pd(a,b){var c=new Z;(new zd).parse(new Qd(c,b,h),a);return c.toString()}function Qd(a,b,c){this.L=a;this.B=[];this.O=m;this.Ob=b;this.Pa=c}pa(Qd,Od);
var Rd={"*::class":9,"*::dir":0,"*::id":4,"*::lang":0,"*::onclick":2,"*::ondblclick":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::style":3,"*::title":0,"*::accesskey":0,"*::tabindex":0,"*::onfocus":2,"*::onblur":2,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::rel":0,"a::rev":0,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,
"area::href":1,"area::nohref":0,"area::onfocus":2,"area::shape":0,"area::tabindex":0,"area::target":10,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::tabindex":0,"button::type":0,"button::value":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,
"colgroup::width":0,"del::cite":1,"del::datetime":0,"dir::compact":0,"div::align":0,"dl::compact":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,
"img::hspace":0,"img::ismap":0,"img::longdesc":1,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::autocomplete":0,"input::align":0,"input::alt":0,"input::checked":0,"input::disabled":0,"input::ismap":0,"input::maxlength":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::readonly":0,"input::size":0,"input::src":1,"input::tabindex":0,"input::type":0,"input::usemap":11,"input::value":0,
"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"ol::compact":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"p::align":0,"pre::width":0,"q::cite":1,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,
"select::onfocus":2,"select::size":0,"select::tabindex":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,
"textarea::accesskey":0,"textarea::cols":0,"textarea::disabled":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::readonly":0,"textarea::rows":0,"textarea::tabindex":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,
"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"ul::compact":0,"ul::type":0};
Qd.prototype.Mb=function(a,b){if(!this.O&&$.hasOwnProperty(a)){var c=$[a];if(!(c&32))if(c&16)this.O=!(c&2);else{for(var d=b,f=0;f<d.length;f+=2){var e=d[f],g=d[f+1],j=l,i;if((i=a+"::"+e,Rd.hasOwnProperty(i))||(i="*::"+e,Rd.hasOwnProperty(i)))j=Rd[i];if(j!==l)switch(j){case 0:break;case 2:case 3:g=l;break;case 4:case 5:case 6:case 7:case 8:case 9:g=this.Pa?this.Pa(g):g;break;case 1:g=this.Ob&&this.Ob(g);break;case 11:g&&"#"===g.charAt(0)?(g=this.Pa?this.Pa(g):g)&&(g="#"+g):g=l;break;default:g=l}else g=
l;d[f+1]=g}if(b=d){c&2||this.B.push(a);this.L.append("<",a);c=0;for(d=b.length;c<d;c+=2)f=b[c],e=b[c+1],e!==l&&e!==h&&this.L.append(" ",f,'="',e.replace(Bd,"&amp;").replace(Dd,"&lt;").replace(Ed,"&gt;").replace(Fd,"&#34;").replace(Gd,"&#61;"),'"');this.L.append(">")}}}};
Qd.prototype.Bb=function(a){if(this.O)this.O=m;else if($.hasOwnProperty(a)){var b=$[a];if(!(b&50)){if(b&1)for(b=this.B.length;0<=--b;){var c=this.B[b];if(c===a)break;if(!($[c]&1))return}else for(b=this.B.length;0<=--b&&!(this.B[b]===a););if(!(0>b)){for(var d=this.B.length;--d>b;)c=this.B[d],$[c]&1||this.L.append("</",c,">");this.B.length=b;this.L.append("</",a,">")}}}};function Nd(a,b){a.O||a.L.append(b)}Qd.prototype.Kb=function(a){this.O||this.L.append(a)};Qd.prototype.zb=function(a){this.O||this.L.append(a)};function V(a,b){this.element=K(Sd);this.e=a;this.Rb=a.getItem();this.va=L(".annotorious-editor-text",this.element)[0];this.Pb=L(".annotorious-editor-button-cancel",this.element)[0];this.qb=L(".annotorious-editor-button-save",this.element)[0];this.Qb=Tb(this.qb);this.Ca=[];var c=this;O(this.Pb,"click",function(b){b.preventDefault();a.K(c.sa);c.close()});O(this.qb,"click",function(b){b.preventDefault();b=Td(c);a.o(b);a.K();c.sa?a.fireEvent(Ud,b):a.fireEvent(Vd,b);c.close()});T(this.element,m);b.appendChild(this.element);
this.va.focus()}V.prototype.eb=function(a){var b=Pb("div","annotorious-editor-field");u(a)?b.innerHTML=a:x(a)&&this.Ca.push({J:b,Cb:a});a=this.Qb;a.parentNode&&a.parentNode.insertBefore(b,a)};V.prototype.open=function(a){if(this.sa=a)this.va.value=a.text;T(this.element,k);this.va.focus()};V.prototype.close=function(){T(this.element,m);this.va.value=""};V.prototype.la=function(a){Ac(this.element,a.x,a.y)};
function Td(a){var b=Pd(a.va.value,function(a){return a});return a.sa?(a.sa.text=b,a.sa):new wd(a.Rb.src,b,a.e.ha().Ja())}V.prototype.addField=V.prototype.eb;function Mc(){this.qa=[]}Mc.prototype.g=function(a,b){this.qa[a]||(this.qa[a]=[]);this.qa[a].push(b)};Mc.prototype.Sa=function(a,b){var c=this.qa[a];c&&B(c,b)};Mc.prototype.fireEvent=function(a,b){var c=this.qa[a];c&&y(c,function(a){a(b)})};var Sc="onMouseOverItem",Tc="onMouseOutOfItem",fd="onMouseOverAnnotation",hd="onMouseOutOfAnnotation",vd="onSelectionStarted",Vc="onSelectionCanceled",Uc="onSelectionCompleted",gd="beforePopupHide",Vd="onAnnotationCreated",Ud="onAnnotationUpdated",Wd={};function Rc(a,b){var c=this;this.element=K(nd);this.e=a;this.ub=L(".annotorious-hint-msg",this.element)[0];this.sb=L(".annotorious-hint-icon",this.element)[0];this.bb=function(){c.show()};this.ab=function(){Xd(c)};this.ma();Xd(this);b.appendChild(this.element)}Rc.prototype.ma=function(){var a=this;this.wb=O(this.sb,"mouseover",function(){a.show();window.clearTimeout(a.Ya)});this.vb=O(this.sb,"mouseout",function(){Xd(a)});this.e.g(Sc,this.bb);this.e.g(Tc,this.ab)};
Rc.prototype.pa=function(){Q(this.wb);Q(this.vb);this.e.Sa(Sc,this.bb);this.e.Sa(Tc,this.ab)};Rc.prototype.show=function(){window.clearTimeout(this.Ya);S(this.ub,0.8);var a=this;this.Ya=window.setTimeout(function(){Xd(a)},3E3)};function Xd(a){window.clearTimeout(a.Ya);S(a.ub,0)};function U(a,b){this.element=K(Yd);this.e=b;this.Ub=L(".annotorious-popup-text",this.element)[0];this.C=L(".annotorious-popup-buttons",this.element)[0];this.Wa=m;this.Ca=[];var c=L(".annotorious-popup-button-edit",this.C)[0],d=L(".annotorious-popup-button-delete",this.C)[0],f=this;O(c,"mouseover",function(){zb(c,"annotorious-popup-button-active")});O(c,"mouseout",function(){Bb(c,"annotorious-popup-button-active")});O(c,"click",function(){S(f.element,0);R(f.element,"pointer-events","none");Wc(b,f.f)});
O(d,"mouseover",function(){zb(d,"annotorious-popup-button-active")});O(d,"mouseout",function(){Bb(d,"annotorious-popup-button-active")});O(d,"click",function(){S(f.element,0);R(f.element,"pointer-events","none");b.fireEvent("onAnnotationRemoved",f.f);b.m(f.f)});O(this.element,"mouseover",function(){window.clearTimeout(f.Va);0.9>(f.C.style[Ma("opacity")]||"")&&S(f.C,0.9);id(f)});O(this.element,"mouseout",function(){S(f.C,0);dd(f)});b.g(Wd.ec,function(){dd(f)});S(this.C,0);S(this.element,0);R(this.element,
"pointer-events","none");a.appendChild(this.element)}U.prototype.eb=function(a){var b=Pb("div","annotorious-popup-field");u(a)?b.innerHTML=a:x(a)&&this.Ca.push({J:b,Cb:a});this.element.appendChild(b)};function dd(a){a.Wa=m;a.ta||(a.ta=window.setTimeout(function(){a.e.fireEvent(gd,a);a.Wa||(S(a.element,0),R(a.element,"pointer-events","none"),S(a.C,0.9),delete a.ta)},300))}function id(a){a.Wa=k;a.ta&&(window.clearTimeout(a.ta),delete a.ta)}
U.prototype.show=function(a,b){id(this);if(a&&b){this.f=a;this.Ub.innerHTML=a.text?a.text:'<span class="annotorious-popup-empty">No comment</span>';"editable"in a&&a.editable==m?T(this.C,m):T(this.C,k);this.la(b);this.Va&&window.clearTimeout(this.Va);S(this.C,0.9);var c=this;this.Va=window.setTimeout(function(){S(c.C,0)},1E3);y(this.Ca,function(b){b.J.innerHTML=b.Cb(a)})}S(this.element,0.9);R(this.element,"pointer-events","auto")};U.prototype.la=function(a){Ac(this.element,new Eb(a.x,a.y))};
U.prototype.addField=U.prototype.eb;F&&I(8);function Zd(a){return"object"===typeof a&&a&&0===a.ic?a.content:(""+a).replace($d,ae)}var be={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\x0B":"&#11;","\u000c":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function ae(a){return be[a]}var $d=/[\x00\x22\x26\x27\x3c\x3e]/g;function Yd(){return'<div class="annotorious-popup" style="position:absolute;z-index:1"><div class="annotorious-popup-buttons"><a class="annotorious-popup-button annotorious-popup-button-edit" title="Edit" href="javascript:void(0);">EDIT</a><a class="annotorious-popup-button annotorious-popup-button-delete" title="Delete" href="javascript:void(0);">DELETE</a></div><span class="annotorious-popup-text"></span></div>'}
function Sd(){return'<div class="annotorious-editor" style="position:absolute;z-index:1"><form><textarea class="annotorious-editor-text" placeholder="Add a Comment..." tabindex="1"></textarea><div class="annotorious-editor-button-container"><a class="annotorious-editor-button annotorious-editor-button-cancel" href="javascript:void(0);" tabindex="3">Cancel</a><a class="annotorious-editor-button annotorious-editor-button-save" href="javascript:void(0);" tabindex="2">Save</a></div></form></div>'};function Nc(a){return'<canvas class="annotorious-item annotorious-opacity-fade" style="position:absolute; top:0px; left:0px; width:'+Zd(a.width)+"px; height:"+Zd(a.height)+'px; z-index:0" width="'+Zd(a.width)+'" height="'+Zd(a.height)+'"></canvas>'}
function nd(){return'<div class="annotorious-hint" style="white-space:nowrap; position:absolute; top:0px; left:0px; pointer-events:none;"><div class="annotorious-hint-msg annotorious-opacity-fade">Click and Drag to Annotate</div><div class="annotorious-hint-icon" style="pointer-events:auto"></div></div>'};function od(a){return'<div class="annotorious-opacity-fade" style="white-space:nowrap; position:absolute; pointer-events:none; top:80px; width:100%; text-align:center;"><div class="annotorious-ol-hint annotorious-ol-hint-secondary" style="width: 400px; margin:0px auto;">'+Zd(a.Hb)+"</dvi></div>"};
